<?xml version='1.0' encoding='UTF-8'?>
<odoo>

    <record id="product_template_vehicle_tree" model="ir.ui.view">
        <field name="active" eval="True"/>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="vehicle_model_id"/>
                <field name="vehicle_category_id"/>
                <field name="list_price"/>
                <field name="vehicle_date"/>
                <field name="vehicle_km"/>
                <field name="vehicle_brand_id" optional="hidden"/>
            </tree>
        </field>
        <field name="field_parent" eval="False"/>
        <field name="groups_id" eval="[(6, 0, [])]"/>
        <field name="inherit_id" eval="False"/>
        <field name="key" eval="False"/>
        <field name="mode">primary</field>
        <field name="model">product.template</field>
        <field name="name">product template vehicle tree</field>
        <field name="priority">16</field>
        <field name="type">tree</field>
    </record>

    <record id="product_template_vehicle" model="ir.ui.view">
        <field name="name">product template vehicle</field>
        <field name="model">product.template</field>
        <field name="type">tree</field>
        <field name="inherit_id" ref="product.product_template_form_view"/>
        <field name="arch" type="xml">
            <xpath expr="//div[@name='options']" position="inside">
                <div>
                    <field name="is_vehicle"/>
                    <label for="is_vehicle"/>
                </div>
            </xpath>
            <xpath expr="//page[@name='general_information']" position="before">
                <page name="Vehicle" string="Vehicle" attrs="{'invisible':[('is_vehicle','=',False)]}">
                    <group>
                        <field name="vehicle_model_id"/>
                        <field name="vehicle_category_id"/>
                        <field name="vehicle_date"/>
                        <field name="vehicle_km"/>
                        <field name="vehicle_id"/>
                        <field name="vehicle_brand_id" invisible="1"/>
                        <field name="opportunity_ids">
                            <tree>
                                <field name="name"/>
                                <field name="user_id"/>
                                <field name="stage_id"/>
                            </tree>
                        </field>
                    </group>
                </page>
            </xpath>
        </field>
    </record>

    <record id="crm_lead_vehicle_opportunities" model="ir.ui.view">
        <field name="name">crm lead vehicle opportunitues</field>
        <field name="model">crm.lead</field>
        <field name="type">tree</field>
        <field name="inherit_id" ref="crm.crm_lead_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//sheet/group/group[4]/field[@name='tag_ids']" position="after">
                <field name="vehicle_ids" widget="many2many_tags"/>
            </xpath>
        </field>
    </record>


</odoo>
